generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model EventType {
  id          String   @id @default(uuid())
  title       String
  description String?
  duration    Int
  slug        String   @unique

  bookings    Booking[]

  createdAt   DateTime @default(now())
}

model Availability {
  id        String @id @default(uuid())
  dayOfWeek Int    // 0 = Sunday, 6 = Saturday
  startTime String // "09:00"
  endTime   String // "17:00"
  timezone  String
}

model Booking {
  id          String   @id @default(uuid())
  name        String
  email       String
  date        DateTime
  startTime   String
  endTime     String
  status      String   // "BOOKED" | "CANCELLED"

  eventType   EventType @relation(fields: [eventTypeId], references: [id])
  eventTypeId String

  createdAt   DateTime @default(now())
}
